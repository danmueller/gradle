createTask('taskX') {
    println 'taskX'
}

taskX.dependsOn {
    tasks.findAll { task -> task.name.startsWith('lib') }
}

createTask('lib1') {
    println 'lib1'
}

createTask('lib2') {
    println 'lib2'
}

createTask('not-a-lib') {
    println 'not-a-lib'
}
